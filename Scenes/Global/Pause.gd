extends CanvasLayer

var pausable : bool = true

func _ready():
	set_children_visible(self, false)

func _process(_delta) -> void:
	if Input.is_action_just_pressed("ui_cancel"):
		toggle_paused()


func set_children_visible(node=self, visible=true) -> void:
	for child in node.get_children():
		if "visible" in child:
			child.visible = visible


func _on_Play_pressed():
	toggle_paused()


func _on_Exit_pressed():
	toggle_paused()
	get_tree().change_scene("res://Scenes/Menus/MainMenu.tscn")

func toggle_paused() -> void:
	if pausable:
			get_tree().paused = !get_tree().paused
			set_children_visible(self, get_tree().paused)
